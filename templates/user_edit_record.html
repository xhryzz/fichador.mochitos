{% extends 'base.html' %}
{% block title %}Editar fichaje{% endblock %}
{% block content %}
<div class="container" style="max-width:720px;margin:auto">
  <h2>Editar fichaje</h2>
  <form method="POST" action="{{ url_for('user_edit_record', record_id=record.id) }}" class="card" style="padding:16px">
    <div class="row">
      <div class="col">
        <label>Fecha</label>
        <input type="text" class="form-control" value="{{ record.date.strftime('%d/%m/%Y') }}" disabled>
      </div>
      <div class="col">
        <label>Entrada</label>
        <input type="time" name="entry_time" class="form-control" value="{{ entry_prefill }}" required>
      </div>
      <div class="col">
        <label>Salida (opcional)</label>
        <input type="time" name="exit_time" class="form-control" value="{{ exit_prefill }}">
      </div>
    </div>
    <div class="row" style="margin-top:12px">
      <div class="col">
        <label>Ubicaci√≥n</label>
        <input type="text" name="location" class="form-control" value="{{ record.location or '' }}">
      </div>
    </div>
    <div class="row" style="margin-top:12px">
      <div class="col">
        <label>Latitud</label>
        <input type="number" step="0.000001" name="latitude" class="form-control" value="{{ record.latitude or '' }}">
      </div>
      <div class="col">
        <label>Longitud</label>
        <input type="number" step="0.000001" name="longitude" class="form-control" value="{{ record.longitude or '' }}">
      </div>
    </div>
    <div class="row" style="margin-top:12px">
      <div class="col">
        <label>Notas</label>
        <textarea name="notes" class="form-control" rows="3">{{ record.notes or '' }}</textarea>
      </div>
    </div>
    <div style="margin-top:16px">
      <a href="{{ url_for('records') }}" class="btn btn-secondary">Cancelar</a>
      <button type="submit" class="btn btn-primary">Guardar cambios</button>
    </div>
  </form>
</div>
{% endblock %}
