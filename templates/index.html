{% extends "base.html" %}
{% block title %}Inicio{% endblock %}

{% block content %}
<div class="container">
  <!-- HERO -->
  <section class="hero fade-in">
    <div class="hero-avatars">
      <div class="avatar-bubble">
        <img src="{{ url_for('static', filename='mochi/1.png') }}" alt="Clara">
      </div>
      <div class="avatar-bubble overlapped">
        <img src="{{ url_for('static', filename='mochi/2.png') }}" alt="Christian">
      </div>
    </div>

    <h1 class="hero-title">Fichador de prácticas</h1>
    <p class="hero-subtitle">Ligero, claro y pensado para vuestro día a día.</p>

    {% if not current_user.is_authenticated %}
      <div class="cta">
        <a href="{{ url_for('login') }}" class="btn btn-primary">
          <i class="fas fa-sign-in-alt me-2"></i> Iniciar sesión
        </a>
        <a href="{{ url_for('register') }}" class="btn btn-success">
          <i class="fas fa-user-plus me-2"></i> Registrarse
        </a>
      </div>
    {% else %}
      <div class="cta">
        <a href="{{ url_for('dashboard') }}" class="btn btn-primary">
          <i class="fas fa-tachometer-alt me-2"></i> Ir al Dashboard
        </a>
        <a href="{{ url_for('user_add_record') }}" class="btn btn-success">
          <i class="fas fa-play-circle me-2"></i> Fichar ahora
        </a>
      </div>
    {% endif %}

    <div class="chips">
      <span class="badge">PWA lista</span>
      <span class="badge">Geolocalización</span>
      <span class="badge">PDF & CSV</span>
    </div>
  </section>

  <!-- QUICK STATS / FEATURES -->
  <section class="row g-3">
    <div class="col-md-4">
      <div class="card lift">
        <div class="card-body text-center">
          <div class="icon-ring"><i class="fas fa-clock"></i></div>
          <h5 class="mb-1">Fichaje inteligente</h5>
          <p class="text-muted mb-0">Entrada/Salida con ubicación y validaciones suaves.</p>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card lift">
        <div class="card-body text-center">
          <div class="icon-ring"><i class="fas fa-chart-line"></i></div>
          <h5 class="mb-1">Estadísticas claras</h5>
          <p class="text-muted mb-0">Horas por día/semana y progreso de objetivos.</p>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card lift">
        <div class="card-body text-center">
          <div class="icon-ring"><i class="fas fa-file-export"></i></div>
          <h5 class="mb-1">Informes bonitos</h5>
          <p class="text-muted mb-0">Exporta a PDF/CSV con un clic.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- QUICK ACTIONS -->
  {% if current_user.is_authenticated %}
  <section class="row g-3 mt-1">
    <div class="col-md-6">
      <div class="card soft">
        <div class="card-body d-flex align-items-center justify-content-between">
          <div>
            <h6 class="text-muted mb-1">Atajo rápido</h6>
            <h4 class="mb-1">Ver mis registros</h4>
            <p class="text-muted mb-0">Revisa, edita o borra fichajes fácilmente.</p>
          </div>
          <a href="{{ url_for('dashboard') }}" class="btn btn-primary">Abrir</a>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card soft">
        <div class="card-body d-flex align-items-center justify-content-between">
          <div>
            <h6 class="text-muted mb-1">Configuración</h6>
            <h4 class="mb-1">Horario & notificaciones</h4>
            <p class="text-muted mb-0">Define turnos y alertas (PWA) sin complicaciones.</p>
          </div>
          <a href="{{ url_for('dashboard') }}#settings" class="btn btn-success">Configurar</a>
        </div>
      </div>
    </div>
  </section>
  {% endif %}
</div>

<style>
/* --- HERO --- */
.hero{
  background: var(--bg-sec);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 2.2rem 1.6rem;
  margin: 1rem 0 1.5rem 0;
  text-align: center;
}
.hero-avatars{
  display:flex; justify-content:center; align-items:center; margin-bottom:1rem;
}
.avatar-bubble{
  width:110px; height:110px; border-radius:50%;
  background: var(--bg);
  border: 1px solid var(--border);
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
  overflow:hidden; display:flex; align-items:center; justify-content:center;
  transition: transform .2s ease;
}
.avatar-bubble img{ width:100%; height:100%; object-fit:cover; }
.avatar-bubble.overlapped{ margin-left:-18px }
.avatar-bubble:hover{ transform: translateY(-2px) }

.hero-title{
  font-weight: 800;
  letter-spacing: -.3px;
  margin: .5rem 0 .25rem 0;
}
.hero-subtitle{
  color: var(--text-sec);
  margin-bottom: 1rem;
}
.cta{ display:flex; gap:.6rem; justify-content:center; flex-wrap:wrap; margin-bottom:.6rem; }
.chips{ display:flex; gap:.4rem; justify-content:center; flex-wrap:wrap; }

/* --- CARDS / ICONS --- */
.lift{ transition: transform .2s ease, box-shadow .2s ease; }
.lift:hover{ transform: translateY(-3px); box-shadow: 0 14px 40px rgba(0,0,0,.08); }

.soft{ background: var(--bg); }
.icon-ring{
  width:64px;height:64px;border-radius:50%;
  background: var(--bg-sec);
  border: 1px solid var(--border);
  display:flex;align-items:center;justify-content:center;
  font-size:1.3rem;margin:0 auto .6rem auto;
  color: var(--primary);
}

/* --- ANIM --- */
.fade-in{ animation: fadeIn .35s ease both; }
@keyframes fadeIn{ from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none} }

/* --- RESPONSIVE --- */
@media (max-width:768px){
  .avatar-bubble{ width:92px; height:92px; }
}
</style>
{% endblock %}
