:root{
  --primary:#007AFF; --success:#34C759; --warning:#FF9500; --danger:#FF3B30;
  --bg:#FFF; --bg-sec:#F2F2F7; --text:#000; --text-sec:#8E8E93; --border:#C6C6C8;
  --radius:12px; --radius-lg:16px;

  /* new */
  --shadow-sm:0 2px 8px rgba(0,0,0,.05);
  --shadow-md:0 8px 24px rgba(0,0,0,.08);
  --shadow-lg:0 12px 40px rgba(0,0,0,.12);
  --transition:.2s ease;
  --ring:0 0 0 3px rgba(0,122,255,.25);

  --primary-10:rgba(0,122,255,.10);
  --success-10:rgba(52,199,89,.12);
  --warning-10:rgba(255,149,0,.12);
  --danger-10:rgba(255,59,48,.12);
}

[data-bs-theme="dark"]{
  --bg:#000; --bg-sec:#1C1C1E; --text:#FFF; --text-sec:#98989D; --border:#38383A;
  --shadow-sm:0 2px 8px rgba(0,0,0,.35);
  --shadow-md:0 8px 24px rgba(0,0,0,.45);
  --shadow-lg:0 12px 40px rgba(0,0,0,.55);
  --ring:0 0 0 3px rgba(10,132,255,.35); /* iOS dark */
}

*{margin:0;padding:0;box-sizing:border-box}
html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
  background:var(--bg); color:var(--text); line-height:1.5;
  letter-spacing:.01em;
}

/* Navbar */
.navbar{
  background:var(--bg)!important;
  border-bottom:1px solid var(--border);
}
.navbar-brand{font-weight:700;color:var(--text)!important}
.nav-link{
  color:var(--text-sec)!important; padding:.5rem 1rem; border-radius:8px;
  transition:background-color var(--transition), color var(--transition), transform var(--transition);
}
.nav-link:hover,.nav-link.active{
  color:var(--primary)!important; background:var(--primary-10);
}

/* Optional glass style (añádelo como .navbar navbar-glass si lo quieres) */
.navbar-glass{
  backdrop-filter:saturate(140%) blur(10px);
  background:rgba(255,255,255,.7)!important;
  border-bottom-color:transparent;
}
[data-bs-theme="dark"] .navbar-glass{ background:rgba(20,20,22,.7)!important }

/* Layout */
.container{max-width:1200px;padding:1.5rem 1rem}

/* Cards */
.card{
  background:var(--bg); border:1px solid var(--border); border-radius:var(--radius);
  margin-bottom:1rem; box-shadow:var(--shadow-sm);
  transition:transform var(--transition), box-shadow var(--transition);
}
.card:hover{ transform:translateY(-2px); box-shadow:var(--shadow-md) }
.card-header{
  border-bottom:1px solid var(--border); padding:1rem; font-weight:600;
  background:transparent;
}
.card-body{padding:1rem}

/* Lift utility (para tarjetas clicables) */
.lift{ transition:transform var(--transition), box-shadow var(--transition) }
.lift:hover{ transform:translateY(-3px); box-shadow:var(--shadow-lg) }

/* Buttons */
.btn{
  border:none; border-radius:8px; font-weight:600; padding:.6rem 1.2rem;
  transition:transform var(--transition), box-shadow var(--transition), opacity var(--transition);
  box-shadow:var(--shadow-sm);
}
.btn:hover{ opacity:.95; transform:translateY(-1px); box-shadow:var(--shadow-md) }
.btn:active{ transform:none; box-shadow:var(--shadow-sm) }
.btn:focus-visible{ outline:none; box-shadow:var(--ring) }

.btn-primary{ background:var(--primary); color:#fff }
.btn-danger{ background:var(--danger); color:#fff }
.btn-success{ background:var(--success); color:#fff }

/* Nuevas variantes útiles */
.btn-outline-primary{
  background:transparent; color:var(--primary);
  border:1px solid var(--primary);
}
.btn-outline-primary:hover{ background:var(--primary-10) }

/* Stats */
.stat-card{
  background:var(--bg); border:1px solid var(--border); border-radius:var(--radius);
  padding:1.5rem; text-align:center; margin-bottom:1rem; box-shadow:var(--shadow-sm);
}
.stat-card h3{ font-size:1.8rem; color:var(--primary); margin:.5rem 0; letter-spacing:-.02em }
.stat-card h6{ color:var(--text-sec); font-weight:500 }

/* Alerts */
.alert{ border:none; border-radius:8px; padding:1rem; border-left:4px solid }
.alert-success{ background:var(--success-10); color:var(--success); border-color:var(--success) }
.alert-warning{ background:var(--warning-10); color:var(--warning); border-color:var(--warning) }
.alert-danger{ background:var(--danger-10); color:var(--danger); border-color:var(--danger) }
.alert-info{ background:var(--primary-10); color:var(--primary); border-color:var(--primary) }

/* Table */
.table{ color:var(--text) }
.table th{
  font-weight:600; color:var(--text-sec); background:var(--bg-sec); border:none;
}
.table td{ border:none; padding:.8rem .5rem }
/* Hover suave sin romper .table-hover */
.table tbody tr:hover td{ background:var(--bg-sec) }
/* Cabecera sticky opcional: añade la clase .sticky a tu tabla si la quieres */
.table.sticky thead th{ position:sticky; top:0; z-index:1 }

/* Badges */
.badge{
  font-weight:600; padding:.4rem .7rem; border-radius:20px;
  background:var(--bg-sec); color:var(--text-sec);
}
.badge-primary{ background:var(--primary-10); color:var(--primary) }
.badge-success{ background:var(--success-10); color:var(--success) }
.badge-warning{ background:var(--warning-10); color:var(--warning) }
.badge-danger{ background:var(--danger-10); color:var(--danger) }

/* Maps */
#map,#previewMap,#activeRecordMap,#recordMap{
  border-radius:8px; border:1px solid var(--border); box-shadow:var(--shadow-sm);
}

/* Theme toggle */
.theme-toggle{
  background:none; border:none; color:var(--text-sec); cursor:pointer; padding:.5rem;
  transition:transform var(--transition), color var(--transition);
}
.theme-toggle:hover{ color:var(--text); transform:rotate(-8deg) }

/* Forms (suave, sin pelearse con Bootstrap) */
:where(input,select,textarea,.form-control){
  background:var(--bg); color:var(--text);
  border:1px solid var(--border); border-radius:10px; padding:.6rem .8rem;
  transition:border-color var(--transition), box-shadow var(--transition);
}
:where(input,select,textarea,.form-control):focus{
  outline:none; border-color:var(--primary); box-shadow:var(--ring);
}
.form-check-input:focus{ box-shadow:var(--ring) }
.form-check-input:checked{ background-color:var(--primary); border-color:var(--primary) }

/* Helpers */
.text-muted{ color:var(--text-sec)!important }
.hr{ height:1px; background:var(--border); border:0; margin:1rem 0; border-radius:1px }

/* Responsive */
@media(max-width:768px){
  .container{ padding:1rem .5rem }
  .card-body{ padding:.8rem }
  .btn{ padding:.5rem 1rem }
}

/* Accesibilidad / rendimiento */
@media (prefers-reduced-motion: reduce){
  *{ transition:none!important; animation:none!important }
}
