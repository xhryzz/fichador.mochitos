:root{--primary:#007AFF;--success:#34C759;--warning:#FF9500;--danger:#FF3B30;--bg:#FFF;--bg-sec:#F2F2F7;--text:#000;--text-sec:#8E8E93;--border:#C6C6C8;--radius:12px}
[data-bs-theme="dark"]{--bg:#000;--bg-sec:#1C1C1E;--text:#FFF;--text-sec:#98989D;--border:#38383A}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--text);line-height:1.5}
.navbar{background:var(--bg)!important;border-bottom:1px solid var(--border)}
.navbar-brand{font-weight:700;color:var(--text)!important}
.nav-link{color:var(--text-sec)!important;padding:.5rem 1rem;border-radius:8px;transition:.2s}
.nav-link:hover,.nav-link.active{color:var(--primary)!important;background:rgba(0,122,255,.1)}
.container{max-width:1200px;padding:1.5rem 1rem}
.card{background:var(--bg);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:1rem}
.card-header{border-bottom:1px solid var(--border);padding:1rem;font-weight:600}
.card-body{padding:1rem}
.btn{border:none;border-radius:8px;font-weight:600;padding:.6rem 1.2rem;transition:.2s}
.btn-primary{background:var(--primary);color:#fff}
.btn-danger{background:var(--danger);color:#fff}
.btn-success{background:var(--success);color:#fff}
.btn:hover{opacity:.9;transform:translateY(-1px)}
.stat-card{background:var(--bg);border:1px solid var(--border);border-radius:var(--radius);padding:1.5rem;text-align:center;margin-bottom:1rem}
.stat-card h3{font-size:1.8rem;color:var(--primary);margin:.5rem 0}
.stat-card h6{color:var(--text-sec);font-weight:500}
.alert{border:none;border-radius:8px;padding:1rem;border-left:4px solid}
.alert-success{background:rgba(52,199,89,.1);color:var(--success);border-color:var(--success)}
.alert-warning{background:rgba(255,149,0,.1);color:var(--warning);border-color:var(--warning)}
.alert-danger{background:rgba(255,59,48,.1);color:var(--danger);border-color:var(--danger)}
.alert-info{background:rgba(0,122,255,.1);color:var(--primary);border-color:var(--primary)}
.table{color:var(--text)}
.table th{font-weight:600;color:var(--text-sec);background:var(--bg-sec);border:none}
.table td{border:none;padding:.8rem .5rem}
.badge{font-weight:600;padding:.4rem .7rem;border-radius:20px}
#map,#previewMap,#activeRecordMap,#recordMap{border-radius:8px;border:1px solid var(--border)}
.theme-toggle{background:none;border:none;color:var(--text-sec);cursor:pointer;padding:.5rem}
@media(max-width:768px){.container{padding:1rem .5rem}.card-body{padding:.8rem}.btn{padding:.5rem 1rem}}